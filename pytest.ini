# =============================
# 语言：不是 Python，而是 INI 配置文件（纯文本格式）。
# 作用：统一 Pytest 的默认配置，让你在本地运行和在 CI（GitHub Actions）里运行时表现一致。
# 好处：不用每次都手动写命令行参数，减少出错。
# =============================

# Keep test configs consistent across local & CI
# 本地与 CI 统一测试配置（报告路径、重试、告警等）
# ローカルとCIの設定を統一（レポート出力・リトライ・警告抑制）

[pytest]
testpaths = tests

addopts =
    -q
    -ra
    --maxfail=1
    --disable-warnings
    --reruns=2
    --reruns-delay=2
    --html=playwright-report/index.html
    --self-contained-html

filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# 不需要手动声明插件；安装了 pytest-playwright 后会自动加载
# plugins = pytest_playwright.plugin
